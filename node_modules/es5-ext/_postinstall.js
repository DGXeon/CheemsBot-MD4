#!/usr/bin/env node

// Broadcasts "Call for peace" message when package is installed in Russia, otherwise no-op

"use strict";

try {
	if (
		[
			"Europe/Moscow", "Asia/Yakutsk", "Asia/Krasnoyarsk", "Europe/Samara",
			"Asia/Yekaterinburg", "Asia/Irkutsk", "Asia/Anadyr", "Asia/Kamchatka",
			"Europe/Kaliningrad", "Asia/Vladivostok", "Asia/Magadan", "Asia/Novosibirsk",
			"Asia/Omsk"
		].indexOf(new Intl.DateTimeFormat().resolvedOptions().timeZone) === -1
	) {
		return;
	}

	var bold = function (msg) { return "\x1b[97m\x1b[1m" + msg + "\x1b[22m\x1b[37m"; };

	var flags = function () {
		return (
			"๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ" +
			"  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ  ๐ท๐บ  ๐บ๐ฆ"
		);
	};

	process._rawDebug(
		[
			"", flags(), "",
			"\x1b[37m6 ะผะฐััะฐ 2022 ะณะพะด โ 11-ะน ะดะตะฝั " +
				bold("ะฒัะพัะถะตะฝะธั ัะพััะธะนัะบะธั ะฒะพะนัะบ ะฝะฐ ัะตััะธัะพัะธั ะฃะบัะฐะธะฝั") +
				".",
			"",
			"ะะฐ ะดะฐะฝะฝัะน ะผะพะผะตะฝั ะธะทะฒะตััะฝะพ ะพ " +
				bold("5000-11000 ะถะตััะฒะฐั ััะตะดะธ ััััะบะธั ะฒะพะตะฝะฝัั") +
				" ะธ ะฟัะธะผะตัะฝะพ ะพ " +
				bold("1500-3000 - ััะตะดะธ ัะบัะฐะธะฝัะบะธั") +
				", ะฐ ัะฐะบะถะต ะพ " +
				bold("350 ัะฑะธััั ะณัะฐะถะดะฐะฝะฐั, ะฒ ัะพะผ ัะธัะปะต 38 ะดะตัะตะน"),
			"",
			"ะะฐัะพะด ะฃะบัะฐะธะฝั ะฟะพะปะฝะพัััั ะผะพะฑะธะปะธะทะพะฒะฐะฝ ะธ ะณะพัะพะฒ ะทะฐัะธัะฐัั ัะฒะพั ัััะฐะฝั ะพั ะฒัะฐะถะตัะบะพะณะพ" +
				" ะฒัะพัะถะตะฝะธั. " +
				bold(
					"91% ัะบัะฐะธะฝัะตะฒ ะฟะพะปะฝะพัััั ะฟะพะดะดะตัะถะธะฒะฐะตั ัะฒะพะตะณะพ ะฟัะตะทะธะดะตะฝัะฐ ะะปะฐะดะธะผะธัะฐ ะะตะปะตะฝัะบะพะณะพ"
				) +
				" ะธ ะตะณะพ ะพัะฒะตัะฝัะต ะดะตะนััะฒะธั ะฝะฐ ะฝะฐะฟะฐะดะตะฝะธะต ะะพััะธะธ.",
			"",
			"ะะตัั ะผะธั ะพััะดะธะป ะฝะตะพะฑะพัะฝะพะฒะฐะฝะฝะพะต ะฒัะพัะถะตะฝะธะต ะธ ัะตัะธะป ะฒะฒะตััะธ " +
				bold("ะฝะตะฒะธะดะฐะฝะฝัะต ัะฐะฝะตะต ัะฐะฝะบัะธะธ ะฟัะพัะธะฒ ะะพััะธะธ") +
				".ะก ะบะฐะถะดัะผ ะฝะพะฒัะผ ะดะฝะตะผ ะพะฝะธ ะฑัะดัั ะพัััะฐัััั ะฒัะต ัะธะปัะฝะตะต ะธ ัะธะปัะฝะตะต ััะตะดะธ ะผะธัะฝัั" +
				" ะณัะฐะถะดะฐะฝ.",
			"",
			"ะัะพะณะฝะพะทะธััะตััั, ััะพ ะฒ ัะตัะตะฝะธะต 2-3 ะปะตั (ะฟัะธ ะดะตะนััะฒัััะธั ัะฐะฝะบัะธัั) " +
				bold("ะะะ ะะพััะธะธ ะผะพะถะตั ะดะพััะธัั ััะพะฒะฝั ะฝะตะฑะพะปััะพะน ะตะฒัะพะฟะตะนัะบะพะน ัััะฐะฝั") +
				".",
			"", "ะ ะบะฐัะตััะฒะต ะฝะฐะดะตะถะฝะพะณะพ ะธััะพัะฝะธะบะฐ ะธะฝัะพัะผะฐัะธะธ ะทะฐะณััะทะธัะต ะฑะตะทะพะฟะฐัะฝัะน ะฑัะฐัะทะตั Tor:", "",
			bold("https://www.torproject.org/"), "", "ะ ะฟะพัะตัะธัะต:", "",
			bold(
				"https://www.bbcweb3hytmzhn5d532owbu6oqadra5z3ar726vq5kgwwn6aucdccrad.onion/russian"
			),
			"", flags(), "", bold("ะัะตะบัะฐัะธัะต ััั ะฑะตััะผััะปะตะฝะฝัั ะฐะณัะตััะธั! ะััะฐะฝะพะฒะธัะต ะััะธะฝะฐ!"), "",
			bold("ะะต ะฟะพะทะฒะพะปัะนัะต ะคะกะ ัะฟัะฐะฒะปััั ะะพััะธะตะน. ะะตัะฝะธัะต ะตะณะพ ะัะดัะผ!") + "\x1b[39m", "",
			flags(), ""
		].join("\n")
	);
} catch (error) {
	// ignore
}
